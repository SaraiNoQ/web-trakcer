{"code":"// 发布-订阅模式，重写history中的方法。用户触发history.pushState方法时会注册该事件。\r\n// 然后可以调用方法监听该事件。\r\nexport const createHistoryEvent = (type) => {\r\n    const origin = history[type];\r\n    return function () {\r\n        const res = origin.apply(this, arguments);\r\n        // 注册事件，使得addEventListener能够监听该事件\r\n        const e = new Event(type);\r\n        window.dispatchEvent(e);\r\n        return res;\r\n    };\r\n};\r\n","references":[]}
